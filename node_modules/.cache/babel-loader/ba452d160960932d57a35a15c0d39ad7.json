{"ast":null,"code":"var _jsxFileName = \"/Users/daviribeiro/Desktop/projetos FDTE/projetos/transcender-jitsi/src/components/form/select/select.js\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport useOutsideClick from '../../useOusideClick/useoutsideclick';\nimport { IcoClose, IcoSearch } from '../../icon/icon';\nconst chargeDefault = {\n  max: 500,\n  text: 'Mais itens',\n  action: () => null\n};\nexport function Select({\n  children,\n  options,\n  action,\n  selected,\n  label,\n  name,\n  color = '',\n  closeOnSelect = true,\n  multiSelect = false,\n  disabled = false,\n  textCustom = ['Selecione', 'Selecionado', 'Selecionados', 'Marcar todos'],\n  filter = false,\n  charge = chargeDefault,\n  optionLabel = 'name',\n  optionValue = 'id',\n  optionCustom = ''\n}) {\n  const [selectOpen, setSelectOpen] = useState(false);\n  const [selectState, setSelectState] = useState([]);\n\n  const openSelect = e => {\n    setSelectOpen(e);\n  };\n\n  const ref = useRef();\n  useOutsideClick(ref, e => {\n    openSelect(e);\n  });\n  useEffect(() => {\n    setSelectState(options ? options : []);\n  }, [options]);\n\n  const veryfiMultiSelect = e => {\n    const verify = selected.filter(elem => {\n      return elem[optionValue] === e[optionValue] ? elem : null;\n    });\n    const res = selected.filter(elem => {\n      return elem[optionValue] !== e[optionValue] ? elem : null;\n    });\n\n    if (selected.length === 0) {\n      return [e];\n    } else {\n      if (verify.length === 0) {\n        return selected.concat(e);\n      } else {\n        return res;\n      }\n    }\n  };\n\n  const selectAction = e => {\n    const resp = multiSelect ? e ? veryfiMultiSelect(e) : [] : e ? e : {};\n    action({\n      target: {\n        name: name,\n        value: resp,\n        type: 'select'\n      }\n    });\n  };\n\n  const textButton = e => {\n    if (!multiSelect) {\n      const verifyObject = Object.keys(e);\n\n      if (e[optionLabel]) {\n        return e[optionLabel];\n      } else {\n        return verifyObject.length ? e : textCustom[0];\n      }\n    } else {\n      if (e.length === 0) {\n        return textCustom[0];\n      } else if (e.length === 1) {\n        return `${textCustom[1]} - ${e[0][optionLabel]} `;\n      } else {\n        return `${textCustom[2]} ( ${e.length} ) `;\n      }\n    }\n  };\n\n  const veryfiSelected = e => {\n    if (!multiSelect) {\n      return selected[optionValue] === e[optionValue] ? true : false;\n    } else {\n      if (selected.length === 0) {\n        return false;\n      } else {\n        const verify = selected.filter(elem => {\n          return elem[optionValue] === e[optionValue] ? elem : null;\n        });\n\n        if (verify.length === 0) {\n          return false;\n        } else {\n          return (verify[0] && verify[0][optionValue]) === e[optionValue] ? true : false;\n        }\n      }\n    }\n  };\n\n  const selectAll = e => {\n    action({\n      target: {\n        name: name,\n        value: e ? options : [],\n        type: 'select'\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `form-box ${color} `,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: `id-${name}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, label), /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: `select-selected ${selectOpen ? 'open' : ''}`,\n    onClick: () => openSelect(!disabled ? !selectOpen : false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, textButton(selected)), selectOpen ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `select-box ${multiSelect ? 'multiselect' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, children && children.length ? children.map(e => {\n    return e && e.type && e.type.name === 'FilterSelect' ? e : null;\n  }) : children && children.type && children.type.name === 'FilterSelect' ? children : filter ? /*#__PURE__*/React.createElement(FilterSelect, {\n    clean: filter.clean,\n    action: e => setSelectState(FilterAction(options, e)),\n    filter: filter.text,\n    title: filter.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }) : null, multiSelect ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `select-all ${selected.length > 0 && selected.length === options.length ? 'selected' : ''}`,\n    onClick: () => [selectAll(selected.length !== options.length ? true : ''), closeOnSelect ? openSelect(false) : null],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"checkelement\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }), textCustom[3]) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select-options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, !multiSelect ? /*#__PURE__*/React.createElement(\"div\", {\n    className: selected === {} ? 'selected' : '',\n    onClick: e => [selectAction(), closeOnSelect ? openSelect(false) : null],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, textCustom[0]) : null, selectState.map((e, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: veryfiSelected(selectState[i]) ? 'selected' : '',\n      key: `${name}-${e[optionValue]}`,\n      onClick: e => [selectAction(selectState[i]), closeOnSelect ? openSelect(false) : null],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 19\n      }\n    }, multiSelect ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"checkelement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 36\n      }\n    }) : null, optionCustom ? optionCustom(e) : e[optionLabel]);\n  }), selectState.length >= (charge.max ? charge.max : chargeDefault.max) ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn secondary normal block\",\n    onClick: () => charge.action ? charge.action : chargeDefault.action,\n    title: charge.text ? charge.text : chargeDefault.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, charge.text ? charge.text : chargeDefault.text) : null)) : null));\n}\nexport function FilterAction(d, e, n = 'name') {\n  return d.filter(i => e !== '' ? [i[n]].includes(e) ? i : null : i);\n}\nexport function FilterSelect({\n  children,\n  clean = /*#__PURE__*/React.createElement(IcoClose, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }),\n  filter = /*#__PURE__*/React.createElement(IcoSearch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 12\n    }\n  }),\n  action = () => null,\n  title = 'Filtrar'\n}) {\n  const [filterState, setFilterState] = useState('');\n\n  const cleanFilter = () => {\n    setFilterState('');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select-filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"filter-select\",\n    id: `id-filter-select`,\n    value: filterState,\n    onChange: e => setFilterState(e.target.value),\n    placeholder: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: filterState === '' ? 'hidden' : '',\n    onClick: () => [cleanFilter(), action('')],\n    title: clean,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }\n  }, clean), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => action(filterState),\n    title: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }\n  }, filter), children));\n}","map":{"version":3,"sources":["/Users/daviribeiro/Desktop/projetos FDTE/projetos/transcender-jitsi/src/components/form/select/select.js"],"names":["React","useState","useRef","useEffect","useOutsideClick","IcoClose","IcoSearch","chargeDefault","max","text","action","Select","children","options","selected","label","name","color","closeOnSelect","multiSelect","disabled","textCustom","filter","charge","optionLabel","optionValue","optionCustom","selectOpen","setSelectOpen","selectState","setSelectState","openSelect","e","ref","veryfiMultiSelect","verify","elem","res","length","concat","selectAction","resp","target","value","type","textButton","verifyObject","Object","keys","veryfiSelected","selectAll","map","clean","FilterAction","title","i","d","n","includes","FilterSelect","filterState","setFilterState","cleanFilter"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\r\nimport useOutsideClick from '../../useOusideClick/useoutsideclick'\r\nimport { IcoClose, IcoSearch } from '../../icon/icon'\r\n\r\nconst chargeDefault = { max: 500, text: 'Mais itens', action: () => null }\r\nexport function Select({\r\n  children,\r\n  options,\r\n  action,\r\n  selected,\r\n  label,\r\n  name,\r\n  color = '',\r\n  closeOnSelect = true,\r\n  multiSelect = false,\r\n  disabled = false,\r\n  textCustom = ['Selecione', 'Selecionado', 'Selecionados', 'Marcar todos'],\r\n  filter = false,\r\n  charge = chargeDefault,\r\n  optionLabel = 'name',\r\n  optionValue = 'id',\r\n  optionCustom = ''\r\n}) {\r\n  const [selectOpen, setSelectOpen] = useState(false)\r\n  const [selectState, setSelectState] = useState([])\r\n  const openSelect = e => {\r\n    setSelectOpen(e)\r\n  }\r\n\r\n  const ref = useRef()\r\n  useOutsideClick(ref, e => {\r\n    openSelect(e)\r\n  })\r\n\r\n  useEffect(() => {\r\n    setSelectState(options ? options : [])\r\n  }, [options])\r\n\r\n  const veryfiMultiSelect = e => {\r\n    const verify = selected.filter(elem => {\r\n      return elem[optionValue] === e[optionValue] ? elem : null\r\n    })\r\n\r\n    const res = selected.filter(elem => {\r\n      return elem[optionValue] !== e[optionValue] ? elem : null\r\n    })\r\n\r\n    if (selected.length === 0) {\r\n      return [e]\r\n    } else {\r\n      if (verify.length === 0) {\r\n        return selected.concat(e)\r\n      } else {\r\n        return res\r\n      }\r\n    }\r\n  }\r\n\r\n  const selectAction = e => {\r\n    const resp = multiSelect ? (e ? veryfiMultiSelect(e) : []) : e ? e : {}\r\n    action({ target: { name: name, value: resp, type: 'select' } })\r\n  }\r\n\r\n  const textButton = e => {\r\n    if (!multiSelect) {\r\n      const verifyObject = Object.keys(e)\r\n      if (e[optionLabel]) {\r\n        return e[optionLabel]\r\n      } else {\r\n        return verifyObject.length ? e : textCustom[0]\r\n      }\r\n    } else {\r\n      if (e.length === 0) {\r\n        return textCustom[0]\r\n      } else if (e.length === 1) {\r\n        return `${textCustom[1]} - ${e[0][optionLabel]} `\r\n      } else {\r\n        return `${textCustom[2]} ( ${e.length} ) `\r\n      }\r\n    }\r\n  }\r\n\r\n  const veryfiSelected = e => {\r\n    if (!multiSelect) {\r\n      return selected[optionValue] === e[optionValue] ? true : false\r\n    } else {\r\n      if (selected.length === 0) {\r\n        return false\r\n      } else {\r\n        const verify = selected.filter(elem => {\r\n          return elem[optionValue] === e[optionValue] ? elem : null\r\n        })\r\n\r\n        if (verify.length === 0) {\r\n          return false\r\n        } else {\r\n          return (verify[0] && verify[0][optionValue]) === e[optionValue] ? true : false\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const selectAll = e => {\r\n    action({ target: { name: name, value: e ? options : [], type: 'select' } })\r\n  }\r\n\r\n  return (\r\n    <div className={`form-box ${color} `}>\r\n      <label htmlFor={`id-${name}`}>{label}</label>\r\n      <div ref={ref}>\r\n        <button\r\n          className={`select-selected ${selectOpen ? 'open' : ''}`}\r\n          onClick={() => openSelect(!disabled ? !selectOpen : false)}\r\n        >\r\n          {textButton(selected)}\r\n        </button>\r\n\r\n        {selectOpen ? (\r\n          <div className={`select-box ${multiSelect ? 'multiselect' : ''}`}>\r\n            \r\n       \r\n\r\n            {children && children.length ? (\r\n              children.map(e => {\r\n                return e && e.type && e.type.name === 'FilterSelect' ? e : null\r\n              })\r\n            ) : children && children.type && children.type.name === 'FilterSelect' ? (\r\n              children\r\n            ) : filter ? (\r\n              <FilterSelect\r\n                clean={filter.clean}\r\n                action={e => setSelectState(FilterAction(options, e))}\r\n                filter={filter.text}\r\n                title={filter.title}\r\n              />\r\n            ) : null}\r\n\r\n            {multiSelect? \r\n              (<div className={`select-all ${selected.length > 0 && selected.length === options.length? 'selected' : ''}`} \r\n              onClick={() => [selectAll(selected.length !== options.length? true : ''), closeOnSelect ? openSelect(false) : null]}>\r\n                <span className='checkelement'></span>\r\n                {textCustom[3]}\r\n              </div>)\r\n            :null}\r\n\r\n            <div className='select-options'>\r\n              {!multiSelect ? (\r\n                <div\r\n                  className={selected === {} ? 'selected' : ''}\r\n                  onClick={e => [selectAction(), closeOnSelect ? openSelect(false) : null]}\r\n                >\r\n                  {textCustom[0]}\r\n                </div>\r\n              ) : null}\r\n\r\n              {selectState.map((e, i) => {\r\n                return (\r\n                  <div\r\n                    className={veryfiSelected(selectState[i]) ? 'selected' : ''}\r\n                    key={`${name}-${e[optionValue]}`}\r\n                    onClick={e => [selectAction(selectState[i]), closeOnSelect ? openSelect(false) : null]}\r\n                  >\r\n                    {multiSelect ? <span className='checkelement'></span> : null}\r\n                    {optionCustom ? optionCustom(e) : e[optionLabel]}\r\n                  </div>\r\n                )\r\n              })}\r\n              {selectState.length >= (charge.max ? charge.max : chargeDefault.max) ? (\r\n                <button\r\n                  className='btn secondary normal block'\r\n                  onClick={() => (charge.action ? charge.action : chargeDefault.action)}\r\n                  title={charge.text ? charge.text : chargeDefault.text}\r\n                >\r\n                  {charge.text ? charge.text : chargeDefault.text}\r\n                </button>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function FilterAction(d, e, n = 'name') {\r\n  return d.filter(i => (e !== '' ? ([i[n]].includes(e) ? i : null) : i))\r\n}\r\n\r\nexport function FilterSelect({\r\n  children,\r\n  clean = <IcoClose />,\r\n  filter = <IcoSearch />,\r\n  action = () => null,\r\n  title = 'Filtrar'\r\n}) {\r\n  const [filterState, setFilterState] = useState('')\r\n  const cleanFilter = () => {\r\n    setFilterState('')\r\n  }\r\n  return (\r\n    <div className='select-filter'>\r\n      <input\r\n        type='text'\r\n        name='filter-select'\r\n        id={`id-filter-select`}\r\n        value={filterState}\r\n        onChange={e => setFilterState(e.target.value)}\r\n        placeholder={title}\r\n      />\r\n      <div className='input-actions'>\r\n        <button\r\n          className={filterState === '' ? 'hidden' : ''}\r\n          onClick={() => [cleanFilter(), action('')]}\r\n          title={clean}\r\n        >\r\n          {clean}\r\n        </button>\r\n\r\n        <button onClick={() => action(filterState)} title={title}>\r\n          {filter}\r\n        </button>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}